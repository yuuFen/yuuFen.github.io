<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yuufen.com/blog</id>
    <title>YuuFen</title>
    <updated>2020-03-02T07:51:09.629Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://yuufen.com/blog"/>
    <link rel="self" href="https://yuufen.com/blog/atom.xml"/>
    <subtitle>å¸Œæœ›ä½ å¯ä»¥è®°ä½æˆ‘</subtitle>
    <logo>https://yuufen.com/blog/images/avatar.png</logo>
    <icon>https://yuufen.com/blog/favicon.ico</icon>
    <rights>All rights reserved 2020, YuuFen</rights>
    <entry>
        <title type="html"><![CDATA[ä½ å¥½å‘€ï¼Œé™Œç”Ÿäºº]]></title>
        <id>https://yuufen.com/blog/post/about/</id>
        <link href="https://yuufen.com/blog/post/about/">
        </link>
        <updated>2030-12-31T16:00:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤</p>
</blockquote>
<h2 id="å…³äºæœ¬ç«™">ğŸ  å…³äºæœ¬ç«™</h2>
<p>å› ä¸ºç¬”è®°å¤ªå¤šå¤ªæ‚ï¼Œå†³å®šå®šæœŸå†™å†™åšå®¢æ•´ç†æ•´ç†ç¬”è®°ã€‚</p>
<p><s>ç„¶åå› ä¸ºå„ç§åŸå› å¤±å»äº†åŠ¨åŠ›</s></p>
<p><s>çœ‹äº†çœ‹ä¸€å¹´å‰çš„åšæ–‡å‘ç°è‡ªå·±çœŸçš„å˜åŒ–äº†è›®å¤šçš„</s></p>
<p>æ€»ä¹‹ç°åœ¨åˆå¼€å§‹äº†</p>
<h2 id="å…³äºæˆ‘">ğŸ‘¨â€ğŸ’» å…³äºæˆ‘</h2>
<p>æˆ‘ç›®å‰å¤§äºŒåœ¨è¯»ï¼Œæˆ‘çš„èŒä¸šè§„åˆ’æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰ä¸€å¹´ä»¥ä¸Šçš„å‰ç«¯é¡¹ç›®å¼€å‘ç»éªŒï¼Œå½“ç„¶åŸºç¡€ä¹Ÿæ²¡æœ‰è½ä¸‹ï¼æˆ‘çš„ä¸“ä¸šæ˜¯ç”µå­ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘è¿˜äº†è§£ä¸€äº›åµŒå…¥å¼å¼€å‘ï¼ˆå½“ç„¶åªæ˜¯ä¸€äº›äº›ï¼‰ï¼Œå¯¹Pythonå’ŒTensorFlowä¹Ÿæœ‰ä¸€å®šçš„æ¶‰çŒã€‚æˆ‘æ­£åœ¨åŠªåŠ›å¯»æ‰¾æš‘æœŸå®ä¹ ï¼</p>
<p>åœ¨ä»¥ä¸‹ä½ç½®æ‰¾åˆ°æœ‰å…³æˆ‘çš„æ›´å¤šä¿¡æ¯ï¼š</p>
<p><a href="https://yuufen.com/" target="_blank" class="text-button">ä¸»é¡µ</a><a href="https://yuufen.com/blog" target="_blank" class="text-button">åšå®¢</a><a href="https://yuufen.com/" target="_blank" class="text-button">é¡¹ç›®</a><a href="mailto:me@yuufen.com" class="text-button">ç»™æˆ‘å‘é‚®ä»¶</a></p>
<h2 id="å…´è¶£çˆ±å¥½">â›¹ å…´è¶£çˆ±å¥½</h2>
<p><strong>æ‘„å½±</strong>ã€ç¾½æ¯›çƒã€è½®æ»‘ã€å°¤å…‹é‡Œé‡Œ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ¶ä½œä¸ªäººä¸»é¡µçš„æŠ€æœ¯æ€»ç»“]]></title>
        <id>https://yuufen.com/blog/post/gsBr49oPO/</id>
        <link href="https://yuufen.com/blog/post/gsBr49oPO/">
        </link>
        <updated>2020-02-28T10:27:58.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸€ç›´éƒ½æƒ³æ­ä¸ªä¸ªäººä¸»é¡µï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ Ideaï¼Œè€Œè‡ªå·±çš„è®¾è®¡ç€å®ä½“ç°å‡ºæ ‡å‡†çš„å·¥ç§‘ç›´ç”·æ°”æ¯ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸€ç›´æ‹–ç€æ²¡å¼€å§‹ã€‚ç›´åˆ°åœ¨çŸ¥ä¹çœ‹åˆ°äº† zhangwenli å°å§å§çš„ä½œå“ï¼Œç€å®è¢«æƒŠè‰³åˆ°ã€‚å› ä¸ºå°å§å§æ˜¯åŸºäºæ—§ç‰ˆæœ¬çš„ vue cli å®ç°çš„ï¼Œå¹¶ä¸”å½“æ—¶æˆ‘çš„æŠ€èƒ½ç‚¹åŸºæœ¬éƒ½ç‚¹åœ¨äº† React ä¸Šï¼Œæ‰€ä»¥æœ¬ç€é¡ºä¾¿å­¦ä¹  Vue çš„ç›®çš„ï¼Œæˆ‘ä½¿ç”¨ vue cli3(4) é‡æ–°å®ç°äº†ä¸€éè¿™ä¸ªé¡¹ç›®ã€‚åšå®Œä¹‹åä¹Ÿå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚</p>
<h2 id="æ¶æ„">æ¶æ„</h2>
<p>è¿™é‡Œåº”è¯¥æœ‰å›¾ï¼Œä½†æˆ‘ç”»åœ¨è‰ç¨¿çº¸ä¸Šäº†(oh shift)ã€‚</p>
<h2 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h2>
<figure data-type="image" tabindex="1"><img src="https://yuufen.com/blog/post-images/1582896479729.png" alt="" loading="lazy"></figure>
<p>è¿™æ˜¯æˆ‘çš„åšå®¢æœ€åçš„ç›®å½•ç»“æ„ã€‚è¯´å®è¯ç¬¬ä¸€çœ¼çœ‹åˆ°å¥¹çš„ç›®å½•ç»“æ„æˆ‘æ˜¯æœ‰ç‚¹æ‡µé€¼çš„ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯ SCSS å’Œç»„ä»¶åˆ†ç¦»ï¼Œå¹¶ä¸” SCSS å’Œç»„ä»¶éƒ½ç»Ÿä¸€å…¨å±€å£°æ˜ï¼Œçœ‹ç€æœ‰ç‚¹åƒ Reactï¼Œå’Œæˆ‘æ¥è§¦åˆ°çš„å…¶ä»– vue é¡¹ç›®ç›¸å·®å¾ˆå¤§ï¼Œå¯èƒ½æ˜¯å› ä¸ºåœ¨ vue cli3 ä¹‹åæ¯”è¾ƒå°‘è§ï¼Œä½†ç¡®å®éå¸¸æ–¹ä¾¿ï¼Œæ ·å¼å’Œç»„ä»¶ä¹‹é—´çš„å…³ç³»æ›´åŠ æ¸…æ™°æ˜äº†ï¼Œä¹Ÿå¯ä»¥æ›´æ–¹ä¾¿çš„ç»Ÿä¸€é…ç½®ç®¡ç†ã€‚</p>
<h2 id="æå–é…ç½®å’Œå·¥å…·ç±»-å·¥å…·å‡½æ•°">æå–é…ç½®å’Œå·¥å…·ç±» / å·¥å…·å‡½æ•°</h2>
<figure data-type="image" tabindex="2"><img src="https://yuufen.com/blog/post-images/1582896974166.png" alt="" loading="lazy"></figure>
<p>å°†å¯é…ç½®çš„å°½é‡æå‡ºæ¥å˜æˆå¯é…ç½®çš„ï¼Œæ˜¯é™ä½å·¥ç¨‹å¤æ‚åº¦çš„æœ€ä½³æ–¹å¼ä¹‹ä¸€ï¼Œæ— è®ºè¿™ä¸ªé…ç½®çœ‹èµ·æ¥å’Œç¨‹åºä¸»é¢˜è€¦åˆçš„å¤šä¹ˆæ·±ã€‚åšå®¢çš„å¯é…ç½®é¡¹ä»å„ä¸ªåº”ç”¨çš„å›¾æ ‡æ ‡é¢˜ï¼Œåˆ° app åˆ†ç»„ï¼Œä»¥åŠç›¸å†Œï¼Œéœ€è¦ä»ä¸€å¼€å§‹å°±å®šä¸‹æ¥ã€‚</p>
<p>è€Œå·¥å…·ç±» / å·¥å…·å‡½æ•°çš„æå–æ˜¯æˆ‘æ‰€æ¬ ç¼ºçš„ï¼Œå› ä¸ºæˆ‘å¹³æ—¶åšäº›å°å·¥ç¨‹ï¼ŒåˆæœŸåˆ†ææ¶æ„æ—¶å¾ˆå°‘ä¼šç»†è‡´åˆ°è¿™ä¸€æ­¥ï¼Œå¯¼è‡´ä¼šå‡ºç°é‡å¤ä»£ç ï¼Œæˆ–è€…æŸä¸ªç»„ä»¶å…·ä½“ä»£ç å¯è¯»æ€§æ¯”è¾ƒå·®ï¼Œå¯èƒ½ä¸­æœŸæˆ–è€…ç»“æŸäº†è¿˜è¦èŠ±è´¹æ—¶é—´å»é‡æ„ã€‚è¿™ä¹Ÿæ˜¯å¸å–äº†ä¸€ä¸ªæ•™è®­ï¼ŒåˆæœŸæ¶æ„çš„æ—¶å€™å°±è¦åœ¨æ„å¯å¤ç”¨çš„å·¥å…·ç±»ï¼Œç¼–ç æ—¶å‘ç°åˆå¯èƒ½å¯å¤ç”¨ä¸€äº›ä¸œè¥¿å°±åŠæ—¶æå‡ºæ¥ï¼Œä¸è¦è§‰å¾—å¯èƒ½ä»¥åç”¨ä¸åˆ°å°±ç›´æ¥æ”¾ç€äº†ã€‚</p>
<h2 id="ä¸€äº›ç»†èŠ‚">ä¸€äº›ç»†èŠ‚</h2>
<p>ä¸¾ä¸€äº›åœ¨åŸç‰ˆä¸­æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ³•çš„é—®é¢˜</p>
<h3 id="resize-çš„ç›‘å¬">resize çš„ç›‘å¬</h3>
<p>å› ä¸ºèƒŒæ™¯æ˜¯é€šè¿‡ canvas ç”»çš„ï¼Œæ‰€ä»¥å½“ resize åéœ€è¦è®¡ç®—å„å…ƒç´ çš„å®½é«˜åº¦ï¼Œå†é‡æ–°è°ƒç”¨ç»˜å›¾å‡½æ•°ç”»å‡ºèƒŒæ™¯ã€‚å­å…ƒç´ éœ€è¦ç­‰å¾…çˆ¶å…ƒç´  resize åæ‰èƒ½è·å–åˆ°æ­£ç¡®çš„å®½é«˜åº¦ã€‚å¼ å§é‡‡ç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯å…ˆç›‘å¬ resize äº‹ä»¶è®¡ç®—å‡ºå®½é«˜åº¦å† new æ ¹ç»„ä»¶ï¼Œåœ¨ vue cli3 ä¸­å¹¶ä¸é€‚ç”¨ã€‚äºæ˜¯æˆ‘åœ¨å­ç»„ä»¶ä¸­ç›‘å¬çˆ¶ç»„ä»¶çš„ resizeã€‚</p>
<h3 id="å·¦å³æ»‘åŠ¨çš„åŠ¨ç”»">å·¦å³æ»‘åŠ¨çš„åŠ¨ç”»</h3>
<p>å¼ å§çš„ç‰ˆæœ¬å¹¶æ²¡æœ‰åšæ»‘åŠ¨çš„åŠ¨ç”»ï¼ˆæˆ‘çœ‹åˆ°å¥¹ç»™ scroll åŠ äº†ä¸€ä¸ª transitionï¼Œä½†è¿™å¹¶ä¸ä¼šæœ‰æ•ˆæœâ€¦ï¼‰ï¼Œæˆ‘ç”¨å®šæ—¶å™¨å®Œæˆäº†è¿™ä¸ªã€‚</p>
<h3 id="å±è”½äº†ç§»åŠ¨ç«¯æµè§ˆå™¨å·¦å³æ»‘æ‰‹åŠ¿çš„å‰è¿›åé€€">å±è”½äº†ç§»åŠ¨ç«¯æµè§ˆå™¨å·¦å³æ»‘æ‰‹åŠ¿çš„å‰è¿›åé€€</h3>
<p>åŸç‰ˆ Slider ç»„ä»¶å·¦å³æ»‘åŠ¨æ—¶ä¼šè§¦å‘æµè§ˆå™¨çš„å‰è¿›åé€€ï¼Œå¾ˆå½±å“ä½¿ç”¨ã€‚æˆ‘å°±ç›´æ¥ prevent äº† touchmove äº‹ä»¶çš„å†’æ³¡ã€‚</p>
<h3 id="å®ç°åœ¨-app-ç•Œé¢æ—¶æŒ‰è¿”å›é”®è¿”å›é¦–é¡µ">å®ç°åœ¨ app ç•Œé¢æ—¶æŒ‰è¿”å›é”®è¿”å›é¦–é¡µ</h3>
<p>åŸç‰ˆåœ¨ app ç•Œé¢ï¼Œä¹ æƒ¯æ€§çš„ç‚¹å‡»è¿”å›é”®çš„è¯ä¼šç›´æ¥å…³é—­ web é¡µé¢ã€‚æˆ‘é€šè¿‡ history å’Œ popstate äº‹ä»¶è§£å†³äº†è¿™ä¸€ç‚¹ï¼Œå¹¶æ¨¡ä»¿ app å®ç°äº†åŒå‡»è¿”å›é€€å‡ºã€‚</p>
<h3 id="ä»£ç é£æ ¼">ä»£ç é£æ ¼</h3>
<ol>
<li>ä¹‹å‰å†™ SCSS éƒ½æ˜¯èƒ½å¥—å¤šå°‘å±‚å°±å¥—å¤šå°‘å±‚ï¼Œçœ‹äº†å¥¹çš„ä»£ç æ‰çŸ¥é“è¿™æ ·ä¸è¡Œï¼Œå¯è¯»æ€§ä¸å¥½è¿˜å½±å“æ€§èƒ½ï¼›</li>
<li>å†™å¤šäº†å¼¹æ€§å¸ƒå±€éƒ½å¿«å¿˜è®°ä¼ ç»Ÿå¸ƒå±€å’‹å†™çš„äº†ï¼Œä»¥åè¦å¤šç»“åˆä½¿ç”¨ï¼›</li>
<li>åŸæ¥ç”¨ä¼ªå…ƒç´ å¯ä»¥ç”»å‡ºå‰å‰â€¦â€¦</li>
<li>å¤šå¤šæå–å·¥å…·ç±»å·¥å…·å‡½æ•°ï¼Œé™ä½å·¥ç¨‹å¤æ‚åº¦</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‡½æ•°æŸ¯é‡ŒåŒ–]]></title>
        <id>https://yuufen.com/blog/post/gxNr15aBN/</id>
        <link href="https://yuufen.com/blog/post/gxNr15aBN/">
        </link>
        <updated>2020-02-27T06:16:25.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æŸ¯é‡ŒåŒ–ä»ä½•è€Œæ¥">æŸ¯é‡ŒåŒ–ä»ä½•è€Œæ¥</h2>
<p>æŸ¯é‡ŒåŒ–, å³ Currying çš„éŸ³è¯‘ã€‚Currying æ˜¯ç¼–è¯‘åŸç†å±‚é¢å®ç°å¤šå‚å‡½æ•°çš„ä¸€ä¸ªæŠ€æœ¯ã€‚</p>
<p>åœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œèº«ä¸ºç å†œçš„æˆ‘ä»¬æœ¬è´¨ä¸Šæ‰€è¿›è¡Œçš„å·¥ä½œå°±æ˜¯â€”â€”å°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå¯ç¼–ç¨‹çš„å°é—®é¢˜ã€‚</p>
<p>Currying ä¸ºå®ç°å¤šå‚å‡½æ•°æä¾›äº†ä¸€ä¸ªé€’å½’é™è§£çš„å®ç°æ€è·¯â€”â€”æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°ï¼Œåœ¨æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ï¼ˆå¦‚ Haskellï¼‰ï¼Œæ˜¯é€šè¿‡ Currying æŠ€æœ¯æ”¯æŒå¤šå‚å‡½æ•°è¿™ä¸€è¯­è¨€ç‰¹æ€§çš„ã€‚</p>
<p>æ‰€ä»¥ Currying åŸæœ¬æ˜¯ä¸€é—¨ç¼–è¯‘åŸç†å±‚é¢çš„æŠ€æœ¯ï¼Œç”¨é€”æ˜¯å®ç°å¤šå‚å‡½æ•°ã€‚</p>
<h2 id="å®ç°åŸç†">å®ç°åŸç†</h2>
<pre><code class="language-js">let _fn = curry(function(a, b, c, d, e) {
  console.log(a + b + c + d + e)
})

// ç›®æ ‡ï¼š
_fn(1, 2, 3, 4, 5) // 15
_fn(1)(2, 3)(4)(5) // 15
_fn(1)(2)(3)(4)(5) // 15

// å®ç°ï¼Œå¯ä»¥æŠŠ _curry() æå–å‡ºæ¥
function curry(fn, len = fn.length) {
  return function _curry(...args) {
    if (args.length &gt;= len) {
      return fn.apply(this, args)
    }
    return function(...params) {
      _args = [...args, ...params]

      if (_args.length &gt;= len) {
        return fn.apply(this, _args)
      } else {
        return _curry.call(this, ..._args)
      }
    }
  }
}
</code></pre>
<h2 id="currying-ä½¿ç”¨åœºæ™¯">Currying ä½¿ç”¨åœºæ™¯</h2>
<h3 id="å‚æ•°å¤ç”¨">å‚æ•°å¤ç”¨</h3>
<p>å›ºå®šä¸å˜çš„å‚æ•°ï¼Œå®ç°å‚æ•°å¤ç”¨æ˜¯ Currying çš„ä¸»è¦ç”¨é€”ä¹‹ä¸€ã€‚<br>
ä¸Šæ–‡ä¸­çš„ increment, addTen æ˜¯ä¸€ä¸ªå‚æ•°å¤ç”¨çš„å®ä¾‹ã€‚å¯¹ add æ–¹æ³•å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°ä¸º 10 åï¼Œæ”¹æ–¹æ³•å°±å˜æˆäº†ä¸€ä¸ªå°†æ¥å—çš„å˜é‡å€¼åŠ  10 çš„æ–¹æ³•ã€‚</p>
<h3 id="å»¶è¿Ÿæ‰§è¡Œ">å»¶è¿Ÿæ‰§è¡Œ</h3>
<p>å»¶è¿Ÿæ‰§è¡Œä¹Ÿæ˜¯ Currying çš„ä¸€ä¸ªé‡è¦ä½¿ç”¨åœºæ™¯ï¼ŒåŒæ · bind å’Œç®­å¤´å‡½æ•°ä¹Ÿèƒ½å®ç°åŒæ ·çš„åŠŸèƒ½ã€‚<br>
åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„åœºæ™¯å°±æ˜¯ä¸ºæ ‡ç­¾ç»‘å®š onClick äº‹ä»¶ï¼ŒåŒæ—¶è€ƒè™‘ä¸ºç»‘å®šçš„æ–¹æ³•ä¼ é€’å‚æ•°ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦-currying">ä¸ºä»€ä¹ˆéœ€è¦ Currying</h2>
<h3 id="ä¸ºäº†å¤šå‚å‡½æ•°å¤ç”¨æ€§">ä¸ºäº†å¤šå‚å‡½æ•°å¤ç”¨æ€§</h3>
<p>Currying è®©äººçœ¼å‰ä¸€äº®çš„åœ°æ–¹åœ¨äºï¼Œè®©äººè§‰å¾—å‡½æ•°è¿˜èƒ½è¿™æ ·å­å¤ç”¨ã€‚</p>
<p>é€šè¿‡ä¸€è¡Œä»£ç ï¼Œå°† add å‡½æ•°è½¬æ¢ä¸º incrementï¼ŒaddTen ç­‰ã€‚</p>
<p>å¯¹äº Currying çš„å¤æ‚å®ç°ä¸­ï¼Œä»¥ Lodash ä¸ºåˆ—ï¼Œæä¾›äº† placeholder çš„ç¥å¥‡æ“ä½œã€‚å¯¹å¤šå‚å‡½æ•°çš„å¤ç”¨ç©å‡ºèŠ±æ ·ã€‚</p>
<pre><code class="language-js">import _ from 'loadsh'

function abc(a, b, c) {
  return [a, b, c]
}

var curried = _.curry(abc)

// Curried with placeholders.
curried(1)(_, 3)(2)
// =&gt; [1, 2, 3]
</code></pre>
<h3 id="ä¸ºå‡½æ•°å¼ç¼–ç¨‹è€Œç”Ÿ">ä¸ºå‡½æ•°å¼ç¼–ç¨‹è€Œç”Ÿ</h3>
<p>Currying æ˜¯ä¸ºå‡½æ•°å¼è€Œç”Ÿçš„ä¸œè¥¿ã€‚åº”è¿ç€æœ‰ä¸€æ•´å¥—å‡½æ•°å¼ç¼–ç¨‹çš„ä¸œè¥¿ï¼Œçº¯å‡½æ•°ã€composeã€container ç­‰ç­‰äº‹ç‰©ã€‚ï¼ˆå¯é˜…è¯»ã€Šmostly-adequate-guideã€‹ ï¼‰<br>
å‡å¦‚è¦å†™ Pointfree Javascript é£æ ¼çš„ä»£ç ï¼Œé‚£ä¹ˆ Currying æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚<br>
è¦ä½¿ç”¨ composeï¼Œè¦ä½¿ç”¨ container ç­‰äº‹ç‰©ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ Curryingã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆä¸éœ€è¦-currying">ä¸ºä»€ä¹ˆä¸éœ€è¦ Currying</h2>
<h3 id="currying-çš„ä¸€äº›ç‰¹æ€§æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ">Currying çš„ä¸€äº›ç‰¹æ€§æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ</h3>
<p>å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³æå‰ç»‘å®šå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰å¾ˆå¤šå¥½å‡ ä¸ªç°æˆçš„é€‰æ‹©ï¼Œbindï¼Œç®­å¤´å‡½æ•°ç­‰ï¼Œè€Œä¸”æ€§èƒ½æ¯” Curring æ›´å¥½ã€‚</p>
<h3 id="currying-é™·äºå‡½æ•°å¼ç¼–ç¨‹">Currying é™·äºå‡½æ•°å¼ç¼–ç¨‹</h3>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæä¾›äº†ä¸€ä¸ª trueCurrying çš„å®ç°ï¼Œè¿™ä¸ªå®ç°ä¹Ÿæ˜¯æœ€ç¬¦åˆ Currying å®šä¹‰çš„ï¼Œä¹Ÿæä¾› äº† bindï¼Œç®­å¤´å‡½æ•°ç­‰ä¸å…·å¤‡çš„â€œæ–°å¥‡â€ç‰¹æ€§â€”â€”å¯æŒç»­çš„ Curryingï¼ˆè¿™ä¸ªè¯æ˜¯æœ¬äººä¸´æ—¶é€ çš„ï¼‰ã€‚<br>
ä½†æ˜¯è¿™ä¸ªâ€œæ–°å¥‡â€ç‰¹æ€§çš„åº”ç”¨å¹¶éæƒ³è±¡å¾—é‚£ä¹ˆå¹¿æ³›ã€‚<br>
å…¶åŸå› åœ¨äºï¼ŒCurrying æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„äº§ç‰©ï¼Œå®ƒç”Ÿäºå‡½æ•°å¼ç¼–ç¨‹ï¼Œä¹ŸæœåŠ¡äºå‡½æ•°å¼ç¼–ç¨‹ã€‚<br>
è€Œ JavaScript å¹¶éçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œç›¸æ¯” Haskell ç­‰å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼ŒJavaScript ä½¿ç”¨ Currying ç­‰å‡½æ•°å¼ç‰¹æ€§æœ‰é¢å¤–çš„æ€§èƒ½å¼€é”€ï¼Œä¹Ÿç¼ºä¹ç±»å‹æ¨å¯¼ã€‚<br>
ä»è€ŒæŠŠ JavaScript ä»£ç å†™å¾—ç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³å’Œè§„èŒƒçš„é¡¹ç›®éƒ½è¾ƒå°‘ï¼Œä»è€Œä¹Ÿé™åˆ¶äº† Currying ç­‰æŠ€æœ¯åœ¨ JavaScript ä»£ç ä¸­çš„æ™®éä½¿ç”¨ã€‚<br>
å‡å¦‚æˆ‘ä»¬è¿˜æ²¡æœ‰å‡†å¤‡å¥½å»å†™å‡½æ•°å¼ç¼–ç¨‹è§„èŒƒçš„ä»£ç ï¼Œä»…éœ€è¦åœ¨ JSX ä»£ç ä¸­æå‰ç»‘å®šä¸€æ¬¡å‚æ•°ï¼Œé‚£ä¹ˆ bind æˆ–ç®­å¤´å‡½æ•°å°±è¶³å¤Ÿäº†ã€‚</p>
<h2 id="ç»“è®º">ç»“è®º</h2>
<ol>
<li>Currying åœ¨ JavaScript ä¸­æ˜¯â€œä½æ€§èƒ½â€çš„ï¼Œä½†æ˜¯è¿™äº›æ€§èƒ½åœ¨ç»å¤§å¤šæ•°åœºæ™¯ï¼Œæ˜¯å¯ä»¥å¿½ç•¥çš„ã€‚</li>
<li>Currying çš„æ€æƒ³æå¤§åœ°åŠ©äºæå‡å‡½æ•°çš„å¤ç”¨æ€§ã€‚</li>
<li>Currying ç”Ÿäºå‡½æ•°å¼ç¼–ç¨‹ï¼Œä¹Ÿé™·äºå‡½æ•°å¼ç¼–ç¨‹ã€‚å‡å¦‚æ²¡æœ‰å‡†å¤‡å¥½å†™çº¯æ­£çš„å‡½æ•°å¼ä»£ç ï¼Œé‚£ä¹ˆ Currying æœ‰æ›´å¥½çš„æ›¿ä»£å“ã€‚</li>
<li>å‡½æ•°å¼ç¼–ç¨‹åŠå…¶æ€æƒ³ï¼Œæ˜¯å€¼å¾—å…³æ³¨ã€å­¦ä¹ å’Œåº”ç”¨çš„äº‹ç‰©ã€‚æ‰€ä»¥åœ¨æ–‡æœ«å†æ¬¡å®‰åˆ© JavaScript ç¨‹åºå‘˜é˜…è¯»æ­¤ä¹¦ â€”â€” ã€Šmostly-adequate-guideã€‹</li>
</ol>
<p>éƒ¨åˆ†è½¬è½½äº https://juejin.im/post/5af13664f265da0ba266efcf</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JSäº‹ä»¶å¾ªç¯ã€Promiseè¯¦è§£]]></title>
        <id>https://yuufen.com/blog/post/pzNr19oSC/</id>
        <link href="https://yuufen.com/blog/post/pzNr19oSC/">
        </link>
        <updated>2020-02-27T04:58:58.000Z</updated>
        <content type="html"><![CDATA[<p>https://juejin.im/post/5b73d7a6518825610072b42b<br>
https://juejin.im/post/5dc028dcf265da4d4b5fe94f</p>
<p>1 5 6 2 3 4 7 8 9</p>
<pre><code class="language-js">console.log('1')

setTimeout(() =&gt; {  //  å®ä»»åŠ¡
    console.log('2')
    new Promise((resolve) =&gt; {  // åŒæ­¥
        console.log('3')
        resolve()
    }).then(() =&gt; {  // å¾®ä»»åŠ¡
        console.log('4')
    })
})

new Promise((resolve) =&gt; {  //åŒæ­¥
    console.log('5')
    resolve()
}).then(() =&gt; {  // å¾®ä»»åŠ¡
    console.log('6')
})

setTimeout(() =&gt; {  // å®ä»»åŠ¡
    console.log('7')
    new Promise((resolve) =&gt; {  // åŒæ­¥
        console.log('8')
        resolve()
    }).then(() =&gt; {  // å¾®ä»»åŠ¡
        console.log('9')
    })
})
</code></pre>
<hr>
<pre><code class="language-js">new Promise((resolve, reject) =&gt; {
  console.log(&quot;å¤–éƒ¨promise&quot;);
  resolve();
})
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    return new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise&quot;);
      resolve();
    })
    .then(() =&gt; {
    console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    })
    .then(() =&gt; {
    console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen&quot;);
    });
  })
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot;);
  });

// å¤–éƒ¨promise
// å¤–éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨promise
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨ç¬¬äºŒä¸ªthen
// å¤–éƒ¨ç¬¬äºŒä¸ªthen
</code></pre>
<pre><code class="language-js">new Promise((resolve, reject) =&gt; {
  console.log(&quot;å¤–éƒ¨promise&quot;);
  resolve();
})
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise&quot;);
      resolve();
    })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
      })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen&quot;);
      });
  })
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot;);
  });

// å¤–éƒ¨promise
// å¤–éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨promise
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen
// å¤–éƒ¨ç¬¬äºŒä¸ªthen
// å†…éƒ¨ç¬¬äºŒä¸ªthen
</code></pre>
<pre><code class="language-js">new Promise((resolve, reject) =&gt; {
  console.log(&quot;å¤–éƒ¨promise&quot;);
  resolve();
})
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    let p = new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise&quot;);
      resolve();
    })
    p.then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
      })
    p.then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen&quot;);
      });
  })
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot;);
  });

// å¤–éƒ¨promise
// å¤–éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨promise
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨ç¬¬äºŒä¸ªthen
// å¤–éƒ¨ç¬¬äºŒä¸ªthen
</code></pre>
<pre><code class="language-js">let p = new Promise((resolve, reject) =&gt; {
  console.log(&quot;å¤–éƒ¨promise&quot;);
  resolve();
})
p.then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise&quot;);
      resolve();
    })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
      })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen&quot;);
      });
  })
p.then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot;);
  });
  
// å¤–éƒ¨promise
// å¤–éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨promise
// å¤–éƒ¨ç¬¬äºŒä¸ªthen
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨ç¬¬äºŒä¸ªthen
</code></pre>
<pre><code class="language-js">new Promise((resolve, reject) =&gt; {
  console.log(&quot;å¤–éƒ¨promise&quot;);
  resolve();
})
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
    new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise&quot;);
      resolve();
    })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen&quot;);
      })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen&quot;);
      });
    return new Promise((resolve, reject) =&gt; {
      console.log(&quot;å†…éƒ¨promise2&quot;);
      resolve();
    })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬ä¸€ä¸ªthen2&quot;);
      })
      .then(() =&gt; {
        console.log(&quot;å†…éƒ¨ç¬¬äºŒä¸ªthen2&quot;);
      });
  })
  .then(() =&gt; {
    console.log(&quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot;);
  });

// å¤–éƒ¨promise
// å¤–éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨promise
// å†…éƒ¨promise2
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen
// å†…éƒ¨ç¬¬ä¸€ä¸ªthen2
// å†…éƒ¨ç¬¬äºŒä¸ªthen
// å†…éƒ¨ç¬¬äºŒä¸ªthen2
// å¤–éƒ¨ç¬¬äºŒä¸ªthen
</code></pre>
<h2 id="promisea-å’Œ-webkit-çš„-promise-çš„å®ç°å·®å¼‚">Promise/A+ å’Œ webkit çš„ Promise çš„å®ç°å·®å¼‚</h2>
<pre><code class="language-js">new Promise((resolve, reject) =&gt; {
  console.log('å¤–éƒ¨promise');
  resolve();
})
  .then(() =&gt; {
    console.log('å¤–éƒ¨ç¬¬ä¸€ä¸ªthen');
    new Promise((resolve, reject) =&gt; {
      console.log('å†…éƒ¨promise');
      resolve();
    })
      .then(() =&gt; {
        console.log('å†…éƒ¨ç¬¬ä¸€ä¸ªthen');
        return Promise.resolve();
      })
      .then(() =&gt; {
        console.log('å†…éƒ¨ç¬¬äºŒä¸ªthen');
      })
  })
  .then(() =&gt; {
    console.log('å¤–éƒ¨ç¬¬äºŒä¸ªthen');
  })
  .then(() =&gt; {
    console.log('å¤–éƒ¨ç¬¬ä¸‰ä¸ªthen');
  })
</code></pre>
<h3 id="promisea-çš„å®ç°">Promise/A+ çš„å®ç°ï¼š</h3>
<p>æ‰§è¡Œ return Promise.resolve() ï¼Œåˆ›å»ºä¸€ä¸ª Promise å®ä¾‹ï¼Œå°† Promise å®ä¾‹è®¾ç½®ä¸º resolve çŠ¶æ€ï¼Œè¿™ä¸ª Promise.resolve() æ˜¯åŒæ­¥çš„ï¼Œä¸”è¯¥ Promise å·²ç»å®Œæˆäº†ï¼Œæ‰€ä»¥ä»–å¹¶ä¸ä¼šå½±å“åˆ°å…¶ä»– then çš„æ³¨å†Œã€‚æ‰€ä»¥ä¸Šè¿°æˆ‘ä»¬åˆ†ææ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚<br>
å¦‚ä¸‹æ˜¯ Promise.resolve çš„å®ç°ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå®Œå…¨æ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸å½±å“æœ€ç»ˆç»“æœã€‚</p>
<pre><code class="language-js">Promise.resolve = function (value) {
  if (value instanceof Promise) return value;
  if (value === null) return NULL;
  if (value === undefined) return UNDEFINED;
  if (value === true) return TRUE;
  if (value === false) return FALSE;
  if (value === 0) return ZERO;
  if (value === '') return EMPTYSTRING;
  if (typeof value === 'object' || typeof value === 'function') {
    try {
      var then = value.then;
      if (typeof then === 'function') {
        return new Promise(then.bind(value));
      }
    } catch (ex) {
      return new Promise(function (resolve, reject) {
        reject(ex);
      });
    }
  }
  return valuePromise(value);
};
</code></pre>
<h3 id="promise-çš„-æµè§ˆå™¨webkitçš„å®ç°">Promise çš„ æµè§ˆå™¨(webkit)çš„å®ç°ï¼š</h3>
<p>æ‰§è¡Œ return Promise.resolve() ï¼Œåˆ›å»ºä¸€ä¸ª Promise å®ä¾‹ï¼Œæ‰§è¡Œ resolve ï¼Œæ­¤æ—¶å°†è¯¥ Promise çš„ resolve çš„ valueï¼ˆè¿™é‡Œæ˜¯undefinedï¼‰ è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†è¯¥ Promise çš„çŠ¶æ€æ‰­è½¬ä¸º resolveã€‚ç„¶åæ¥ç€æ‰§è¡Œäº†ä¹‹å‰æ³¨å†Œå¥½çš„ &quot;å¤–éƒ¨ç¬¬äºŒä¸ªthen&quot; ,ç„¶åæ³¨å†Œ â€œå¤–éƒ¨ç¬¬ä¸‰ä¸ªthenâ€ ï¼Œæ¥ç€æ‰§è¡Œ â€œå†…éƒ¨ç¬¬ä¸€ä¸ªthenâ€ çš„ return çš„ resolve çš„è¿™ä¸ª undefined value çš„ Promiseï¼Œæ‰§è¡Œå®Œæˆä¹‹åï¼Œç„¶åæ³¨å†Œä¸‹ä¸€ä¸ªthen ,ä½†æ˜¯æ²¡æœ‰ä¸‹ä¸€ä¸ª then äº†ï¼Œæ‰§è¡Œå®Œæˆï¼Œæ•´ä¸ª return ä»»åŠ¡å®Œæˆï¼Œæœ¬æ¬¡åŒæ­¥ä»»åŠ¡ä¹Ÿæ‰§è¡Œå®Œæˆï¼Œæ¥ç€æ‰§è¡Œæ³¨å†Œçš„ â€œå¤–éƒ¨ç¬¬ä¸‰ä¸ªthenâ€ ï¼Œæ‰§è¡Œå®Œæˆä¹‹åï¼Œæ³¨å†Œ â€œå¤–éƒ¨ç¬¬å››ä¸ªthenâ€ï¼Œæ­¤æ—¶ â€å†…éƒ¨ç¬¬ä¸€ä¸ªthenâ€œ æ‰§è¡Œå®Œæˆï¼Œæ³¨å†Œ â€å†…éƒ¨ç¬¬äºŒä¸ªthenâ€ï¼Œæœ€åæ‰§è¡Œå®Œâ€œå¤–éƒ¨ç¬¬å››ä¸ªthenâ€ï¼Œå†æ‰§è¡Œ åˆšåˆšæ³¨å†Œçš„â€œå†…éƒ¨ç¬¬äºŒä¸ªthenâ€.<br>
æºä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-cpp">void Promise::Resolver::Resolve(Handle&lt;Value&gt; value) {
  i::Handle&lt;i::JSObject&gt; promise = Utils::OpenHandle(this);
  i::Isolate* isolate = promise-&gt;GetIsolate();
  LOG_API(isolate, &quot;Promise::Resolver::Resolve&quot;);
  ENTER_V8(isolate);
  EXCEPTION_PREAMBLE(isolate);
  i::Handle&lt;i::Object&gt; argv[] = { promise, Utils::OpenHandle(*value) };
  has_pending_exception = i::Execution::Call(
      isolate,
      isolate-&gt;promise_resolve(),
      isolate-&gt;factory()-&gt;undefined_value(),
      arraysize(argv), argv,
      false).is_null();
  EXCEPTION_BAILOUT_CHECK(isolate, /* void */ ;);
}
</code></pre>
<pre><code class="language-js">PromiseResolve = function PromiseResolve(promise, x) {
    PromiseDone(promise, +1, x, promiseOnResolve)
}
function PromiseDone(promise, status, value, promiseQueue) {
    if (GET_PRIVATE(promise, promiseStatus) === 0) {
        PromiseEnqueue(value, GET_PRIVATE(promise, promiseQueue), status);
        PromiseSet(promise, status, value);
    }
}
</code></pre>
]]></content>
    </entry>
</feed>